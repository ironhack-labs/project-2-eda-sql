"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6419],{68760:function(e,t,i){i.d(t,{G6:function(){return l},wG:function(){return a},y1:function(){return r}});var s=i(93724);let r={LIST_ORDER:"LIST_ORDER",ALPHABETICAL:"TITLE_REGIONAL",IMDB_RATING:"USER_RATING",POPULARITY:"POPULARITY",YOUR_RATING:"MY_RATING",NUMBER_OF_RATINGS:"USER_RATING_COUNT",RELEASE_DATE:"RELEASE_DATE",RUNTIME:"RUNTIME",DATE_ADDED:"DATE_ADDED"},a={LIST_ORDER:{id:"common_sort_by_list_order",defaultMessage:"List order"},ALPHABETICAL:{id:"common_sort_by_alphabetical",defaultMessage:"Alphabetical"},IMDB_RATING:{id:"common_sort_by_imdb_rating",defaultMessage:"IMDb rating"},POPULARITY:{id:"common_sort_by_popularity",defaultMessage:"Popularity"},YOUR_RATING:{id:"common_sort_by_your_rating",defaultMessage:"Your rating"},NUMBER_OF_RATINGS:{id:"common_sort_by_number_of_ratings",defaultMessage:"Number of ratings"},RELEASE_DATE:{id:"common_sort_by_release_date",defaultMessage:"Release date"},RUNTIME:{id:"common_sort_by_runtime",defaultMessage:"Runtime"},DATE_ADDED:{id:"common_sort_by_date_added",defaultMessage:"Date added"}},l={[r.LIST_ORDER]:s.kq.LIST_ORDER,[r.ALPHABETICAL]:s.kq.ALPHABETICAL,[r.IMDB_RATING]:s.kq.USER_RATING,[r.POPULARITY]:s.kq.POPULARITY,[r.YOUR_RATING]:s.kq.YOUR_RATING,[r.NUMBER_OF_RATINGS]:s.kq.NUM_VOTES,[r.RELEASE_DATE]:s.kq.RELEASE_DATE,[r.RUNTIME]:s.kq.RUNTIME,[r.DATE_ADDED]:s.kq.DATE_ADDED}},62410:function(e,t,i){i.d(t,{C:function(){return r},v:function(){return a}});var s=i(68760);let r=(e,t,i,r)=>{let a=[{queryVariables:{first:t,sort:{by:s.y1.LIST_ORDER,order:"ASC"}},text:e.formatMessage(s.wG.LIST_ORDER),value:s.y1.LIST_ORDER},{queryVariables:{first:t,sort:{by:s.y1.ALPHABETICAL,order:"ASC"}},text:e.formatMessage(s.wG.ALPHABETICAL),value:s.y1.ALPHABETICAL},{queryVariables:{first:t,sort:{by:s.y1.IMDB_RATING,order:"DESC"}},text:e.formatMessage(s.wG.IMDB_RATING),value:s.y1.IMDB_RATING},{queryVariables:{first:t,sort:{by:s.y1.POPULARITY,order:"ASC"}},text:e.formatMessage(s.wG.POPULARITY),value:s.y1.POPULARITY},{queryVariables:{first:t,sort:{by:s.y1.NUMBER_OF_RATINGS,order:"ASC"}},text:e.formatMessage(s.wG.NUMBER_OF_RATINGS),value:s.y1.NUMBER_OF_RATINGS},{queryVariables:{first:t,sort:{by:s.y1.RELEASE_DATE,order:"ASC"}},text:e.formatMessage(s.wG.RELEASE_DATE),value:s.y1.RELEASE_DATE},{queryVariables:{first:t,sort:{by:s.y1.RUNTIME,order:"ASC"}},text:e.formatMessage(s.wG.RUNTIME),value:s.y1.RUNTIME},{queryVariables:{first:t,sort:{by:s.y1.DATE_ADDED,order:"ASC"}},text:e.formatMessage(s.wG.DATE_ADDED),value:s.y1.DATE_ADDED}];return i&&a.push({queryVariables:{first:t,sort:{by:s.y1.YOUR_RATING,order:"DESC"}},text:e.formatMessage(s.wG.YOUR_RATING),value:s.y1.YOUR_RATING,queryContext:{personalized:!0,serverSideCacheable:!1}}),r?.length&&(a=a.filter(e=>!r.includes(e.value))),a},a=(e,t,i,s)=>{let a=r(e,t,i);if(s&&s?.order&&s?.by){let e=a.findIndex(e=>e.value===s.by);a.splice(e,1,{...a[e],queryVariables:{...a[e].queryVariables,sort:{...a[e].queryVariables?.sort,order:s.order}}})}return a}},98474:function(e,t,i){var s=i(52322);i(2784);var r=i(79855),a=i(19596),l=i(45103),n=i(91842),o=i(13433),d=i(58605),g=i(50926),u=i(88926),c=i(97388);t.Z=e=>{let{hideListItemCount:t,index:i,listId:a,listMetadata:n,listTitle:I,listType:p,listSize:T,primaryConstData:h,postElement:R,refMarkerBase:y,className:_}=e,A=(0,r.Z)(),{refTagPrefix:M}=(0,d.y)();if(!a||!I)return null;let x=(0,c.sU)("RATINGS"===p?o.lZ.Titles:p,T,A),E=(0,g.Gs)({height:h.primaryImage?.height,width:h.primaryImage?.width,url:h.primaryImage?.url},h.primaryImage?.caption),L=i+1,b="RATINGS"===p?`/user/${a}/ratings/`:`/list/${a}/`;return(0,s.jsx)(l.MetaDataListSummaryItem,{"data-testid":"user-ll-item",className:_,preElement:(0,s.jsx)(m,{children:(0,s.jsx)(l.Poster,{ariaLabel:A.formatMessage({id:"common_ariaLabels_gotoList",defaultMessage:"View list page for {listTitle}"},{listTitle:I}),href:`${b}?${(0,u.I)("i",{prefix:`${M}${y?`_${y}`:""}`,suffix:`${L}`})}`,dynamicWidth:!0,children:(0,s.jsx)(l.Poster.Image,{imageModel:E,imageType:h.fallbackImage,size:"m"})})}),subTextList:n,textList:t?[]:[{text:x}],title:I,titleLink:`${b}?${(0,u.I)("t",[{prefix:y},{prefix:M,suffix:`${L}`}])}`,postElement:R?(0,s.jsx)(f,{children:R}):void 0})};let m=a.default.div.withConfig({componentId:"sc-e27f2755-0"})(["display:flex;flex-shrink:0;margin-right:",";width:4.5rem;"],n.spacing.xs),f=a.default.div.withConfig({componentId:"sc-e27f2755-1"})(["width:fit-content;"])},3304:function(e,t,i){i.d(t,{_:function(){return R}});var s=i(52322),r=i(72579),a=i.n(r),l=i(2784),n=i(19596),o=i(91842),d=i(26762),g=i(58605),u=i(27261),c=i(98046),m=i(83682),f=i.n(m),I=i(45103);let p=e=>{let{itemId:t,item:i,index:r}=e,a=(0,l.useRef)(null),n=(0,I.useBreakpointsAsConfig)(),o=n.s||n.xs;return(0,s.jsx)(s.Fragment,{children:i.image&&(0,s.jsx)(T,{id:t,"data-testid":t,width:i.image.maxWidth,height:i.image.maxHeight,href:i.href,className:"image-item-wrapper",ref:a,children:(0,s.jsx)(h,{loading:r<6?"eager":"lazy","data-testid":"image-gallery-image",imageModel:i.image,width:a.current?.offsetWidth||(o?480:820)})})})},T=n.default.a.withConfig({componentId:"sc-f1b78590-0"})(["",""],e=>e.width&&e.height&&(0,n.css)(["width:","px;flex-grow:",";","{width:","px;flex-grow:",";}"],200*e.width/e.height,200*e.width/e.height,o.mediaQueries.breakpoints.below.m,120*e.width/e.height,120*e.width/e.height)),h=(0,n.default)(f()).withConfig({componentId:"sc-f1b78590-1"})(["height:auto;vertical-align:middle;width:100%;"]),R=e=>{let{total:t,items:i,pagination:r,endCursor:n,onPagination:o}=e,{refTagPrefix:m,pageType:f,subPageType:I,pageConst:T}=(0,g.y)(),h={type:f,subType:I,id:T},[R,_]=(0,l.useState)(i??[]),[A,M]=(0,l.useState)(n??void 0),x=!!r&&!!t&&t>(i?.length??0),[E,L]=(0,l.useState)(x);return((0,l.useEffect)(()=>{_(i??[]),M(n??void 0),L(x)},[i]),R.length)?(0,s.jsxs)("section",{"data-testid":"sub-section-images",children:[(0,s.jsx)(y,{children:R.map((e,t)=>{if(!e.image)return;let i=`${e.id}-img-${t}`;return(0,s.jsx)(p,{itemId:i,item:e,index:t},i)})}),E&&r?.query&&(0,s.jsx)(d.ZP,{queryOptions:{query:r.query,variables:{after:A,...r?.queryVariables},context:r?.queryContext??{serverSideCacheable:!0,personalized:!1}},onDataReceived:e=>{let{items:t}=r?.transform(e)??{items:[]};if(t){let e=[...R,...t];_(e),o?.(e?.length)}if(r?.pathToPageInfo){let{hasNextPage:t,endCursor:i}=a()(e,r.pathToPageInfo)??{};t&&i?(L(!0),M(i)):(L(!1),M(void 0))}},onError:(e,t)=>{(0,u.ar)(h,c.QJ.PAGINATION_ERROR,c.qB.ACTION_ONLY,`${m}_err`),t&&(0,u.ar)(h,c.QJ.PAGINATION_ERROR_AND_DATA,c.qB.ACTION_ONLY,`${m}_ip`)},onFetch:()=>{(0,u.ar)(h,c.QJ.PAGINATION_NEXT,c.qB.ACTION_ONLY,`${m}_ip`)},intersectionOptions:r?.intersectionOptions})]}):null},y=n.default.div.withConfig({componentId:"sc-86dee30c-0"})(["display:flex;flex-basis:100%;flex-flow:row wrap;gap:",";.image-item-wrapper{animation:skeleton-loading 1s linear infinite alternate;@keyframes skeleton-loading{0%{background-color:hsl(200deg 20% 80%);}100%{background-color:hsl(200deg 20% 95%);}}}"],o.spacing.xxs)},26762:function(e,t,i){i.d(t,{Yv:function(){return c}});var s=i(52322),r=i(2784),a=i(19596),l=i(45103),n=i(4283),o=i(99493),d=i(42728);let g="IntersectionPagination",u={rootMargin:"1000px"},c=e=>{let{queryOptions:t,onDataReceived:i,onFetch:a,onError:l,intersectionOptions:c}=e,f=(0,r.useRef)(null),[{data:I,fetching:p,error:T},h]=(0,d.p)({queryOptions:t,ref:f,options:{intersectionOptions:c??u,continueObserving:!0},onIntersection:a});return(0,r.useEffect)(()=>{(I||T)&&(I&&i(I),T&&l(T,I))},[I,T]),(0,s.jsxs)(n.Z,{name:g,children:[(0,s.jsx)("div",{ref:f,"data-testid":"ip_ref"}),p&&(0,s.jsx)(m,{}),T&&!I&&(0,s.jsx)(o.Kj,{name:g,canRetry:!0,onClickRetry:h})]})};t.ZP=c;let m=(0,a.default)(l.Loader).withConfig({componentId:"sc-4644bf19-0"})(["min-height:2rem;"])},36419:function(e,t,i){i.d(t,{Z:function(){return eC}});var s=i(52322),r=i(5632),a=i(2784),l=i(79855),n=i(19596),o=i(45103),d=i(91842),g=i(76289),u=i(79962),c=i(98474),m=i(53214),f=i(41228),I=i(54073),p=i.n(I),T=i(47999);let h=(0,i(24667).vU)({listSearchTitle:{id:"list_search_label",defaultMessage:"Search within this list"},listSearchError:{id:"list_search_error",defaultMessage:"No matches found."}}),R=e=>{let{value:t,onChange:i,onDebouncedChange:r,onClear:n,showError:o,...d}=e,g=(0,l.Z)(),u=(0,a.useCallback)(p()(e=>{r(e)},500),[]);return(0,s.jsx)(y,{ariaLabel:g.formatMessage(h.listSearchTitle),errorText:o?g.formatMessage(h.listSearchError):void 0,className:"list-search-input",name:"list-search",label:g.formatMessage(h.listSearchTitle),preIcon:"search",postIcon:t?.length?"clear":void 0,onPostIconClick:n,value:t,onChange:e=>{i(e),u(e)},onKeyDown:e=>(0,T.S)(e,250),...d})},y=(0,n.styled)(o.TextInput).withConfig({componentId:"sc-75d9ab90-0"})(["margin-left:auto;margin-bottom:",";"],d.spacing.s);var _=i(32246),A=i(98972),M=i(71919),x=i(79722),E=i(3304),L=i(70045),b=i(26762),v=i(44794),S=i(25436),C=i(99493),D=i(13433),P=i(85767),U=i(96446),F=i(94816),O=i(27261),N=i(98046),V=i(89697),w=i(93724),j=i(78270),$=i(25673),J=i(76065),q=i(16929),k=i(51916),Y=i(98783),G=i.n(Y),B=i(45455),K=i.n(B);let z=(e,t)=>e.some(e=>e.id===t),Z=(e,t,i,s)=>e?[...t,{id:i,text:s}]:t.filter(e=>e.id!==i),Q=e=>{if(e.values){let{filterKey:t,isMultiValue:i,personalized:s,values:r,facetFields:a,selectedFilters:l,setSelectedFilters:n,facetFieldKey:o}=e,d=(0,A.eK)({filterKey:t,isMultiValue:i,personalized:s,values:r,facetFields:a,facetFieldKey:o});if(K()(d)){let e={...l};delete e[t],n(e)}else n({...l,...d})}},W=e=>{let{context:t,filterIngress:i,filterKey:s,filterValue:r,isAddFilter:a,refTagPrefix:l}=e,n=r;if(n){let e=64-l.length-i.length-s.length-3;n=n.toLowerCase().replaceAll("-","_").substring(0,e)}let o=`${l}_${i}_${s}${n?`_${n}`:""}`;(0,O.ar)(t,a?"add-filter":"remove-filter",N.qB.ACTION_ONLY,o)},H=(e,t)=>{let i,s;return e?(i=!!(e&&e.length>t.length),s=G()(e,t)[0]??""):(i=!1,s=t[0]??""),{isAddFilter:i,valueAdded:s}};var X=e=>{let{selectedFilters:t,setSelectedFilters:i,ariaLabel:r,filterId:a,filterValues:l,id:n,label:d,filterKey:g,isMultiValue:u,personalized:c}=e,{pageType:m,refTagPrefix:f,subPageType:I,pageConst:p}=(0,P.B)().context,T={type:m,subType:I,id:p};return(0,s.jsx)(o.CheckBox,{ariaLabel:r,checked:z(l,a),iconActiveColor:"accent2",id:n,label:d,onChange:e=>{let s=Z(e,l,a,d);W({context:T,isAddFilter:e,refTagPrefix:f,filterIngress:"prmt",filterKey:g,filterValue:a}),i({...t,[g]:{isMultiValue:u,personalized:c,values:s}})}})};let ee=n.default.div.withConfig({componentId:"sc-d581790a-0"})([""," "," margin-bottom:",";"],(0,d.setTypographyType)("overline"),(0,d.setPropertyToColorVar)("color","ipt-on-baseAlt-accent1-color"),d.spacing.s),et=n.default.div.withConfig({componentId:"sc-d581790a-1"})([""," "," align-items:center;display:inline-flex;flex-wrap:wrap;gap:",";width:100%;"],(0,d.setTypographyType)("body"),(0,d.setPropertyToColorVar)("color","ipt-on-baseAlt-textPrimary-color"),d.spacing.xs);var ei=e=>{let{selectedFilters:t,setSelectedFilters:i}=e,r=(0,l.Z)(),a=t?.[k.uN.status]?.values??[];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee,{children:r.formatMessage(k.kF.STATUS)}),(0,s.jsxs)(et,{children:[(0,s.jsx)(X,{selectedFilters:t,setSelectedFilters:i,ariaLabel:r.formatMessage(k.kF.READY_ARIA),filterId:D.Uo.Ready,filterValues:a,id:k.cK.READY_FILTER,label:r.formatMessage(k.kF.READY),filterKey:k.uN.status,isMultiValue:!0,personalized:!0}),(0,s.jsx)(X,{selectedFilters:t,setSelectedFilters:i,ariaLabel:r.formatMessage(k.kF.IN_PROGRESS_ARIA),filterId:D.Uo.Processing,filterValues:a,id:k.cK.IN_PROGRESS_FILTER,label:r.formatMessage(k.kF.IN_PROGRESS),filterKey:k.uN.status,isMultiValue:!0,personalized:!0}),(0,s.jsx)(X,{selectedFilters:t,setSelectedFilters:i,ariaLabel:r.formatMessage(k.kF.FAILED_ARIA),filterId:D.Uo.Failed,filterValues:a,id:k.cK.FAILED_FILTER,label:r.formatMessage(k.kF.FAILED),filterKey:k.uN.status,isMultiValue:!0,personalized:!0})]})]})},es=i(98258),er=i(40214),ea=i(58605),el=e=>{let{children:t}=e,i=(0,l.Z)(),{refTagPrefix:r}=(0,ea.y)(),a=(0,er.q)(N.QJ.FILTER_PROMPT_OPEN,N.qB.POP_UP,`${r}_filter_prmt_open`);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(en,{ariaLabel:i.formatMessage({id:"common_open_filter_prompt",defaultMessage:"Open filter prompt"}),breakpointConfig:{m:es.PROMPT_TYPES.bottomsheet},"data-testid":k.Ih,filled:!0,onColor:"accent2",postIconProps:{name:"filter-list"},promptPanelClassName:k.zu,onSelect:()=>a(),children:(0,s.jsx)(eo,{children:t})})})};let en=(0,n.default)(o.ChipDropdown).withConfig({componentId:"sc-22e0128e-0"})(["margin:0 ",";","{margin-left:0;}"],d.spacing.m,d.mediaQueries.breakpoints.below.l),eo=n.default.div.withConfig({componentId:"sc-22e0128e-1"})([""," "," display:flex;gap:0.5rem;flex-direction:column;"],(0,d.setPropertyToSpacingVar)("margin-left","ipt-pageMargin"),(0,d.setPropertyToSpacingVar)("margin-right","ipt-pageMargin"));var ed=e=>{let{isListOwner:t,selectedFilters:i,setSelectedFilters:r}=e,a=(0,l.Z)(),n=i[k.l5.anyVisibilities]?.values??[],d=i[k.l5.anyListTypes]?.values??[];return(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee,{children:a.formatMessage(k.Mr.PRIVACY)}),(0,s.jsxs)(et,{children:[(0,s.jsx)(X,{selectedFilters:i,setSelectedFilters:r,ariaLabel:a.formatMessage(k.Mr.PUBLIC_ARIA),filterId:D.Cy.Public,filterValues:n,id:k.$_.PUBLIC_FILTER,label:a.formatMessage(k.Mr.PUBLIC),filterKey:k.l5.anyVisibilities,isMultiValue:!0,personalized:!0}),(0,s.jsx)(X,{selectedFilters:i,setSelectedFilters:r,ariaLabel:a.formatMessage(k.Mr.PRIVATE_ARIA),filterId:D.Cy.Private,filterValues:n,id:k.$_.PRIVATE_FILTER,label:a.formatMessage(k.Mr.PRIVATE),filterKey:k.l5.anyVisibilities,isMultiValue:!0,personalized:!0})]}),(0,s.jsx)(o.PageSectionDivider,{})]}),(0,s.jsx)(ee,{children:a.formatMessage(k.Mr.LIST_TYPE)}),(0,s.jsxs)(et,{children:[(0,s.jsx)(X,{selectedFilters:i,setSelectedFilters:r,ariaLabel:a.formatMessage(k.Mr.TITLES_ARIA),filterId:D.lZ.Titles,filterValues:d,id:k.$_.TITLES_FILTER,label:a.formatMessage(k.Mr.TITLES),filterKey:k.l5.anyListTypes,isMultiValue:!0,personalized:!!t}),(0,s.jsx)(X,{selectedFilters:i,setSelectedFilters:r,ariaLabel:a.formatMessage(k.Mr.PEOPLE_ARIA),filterId:D.lZ.People,filterValues:d,id:k.$_.PEOPLE_FILTER,label:a.formatMessage(k.Mr.PEOPLE),filterKey:k.l5.anyListTypes,isMultiValue:!0,personalized:!!t}),(0,s.jsx)(X,{selectedFilters:i,setSelectedFilters:r,ariaLabel:a.formatMessage(k.Mr.IMAGES_ARIA),filterId:D.lZ.Images,filterValues:d,id:k.$_.IMAGES_FILTER,label:a.formatMessage(k.Mr.IMAGES),filterKey:k.l5.anyListTypes,isMultiValue:!0,personalized:!!t}),(0,s.jsx)(X,{selectedFilters:i,setSelectedFilters:r,ariaLabel:a.formatMessage(k.Mr.VIDEOS_ARIA),filterId:D.lZ.Videos,filterValues:d,id:k.$_.VIDEOS_FILTER,label:a.formatMessage(k.Mr.VIDEOS),filterKey:k.l5.anyListTypes,isMultiValue:!0,personalized:!!t})]})]})},eg=i(97897),eu=e=>{let{filterByState:t,selectedFilters:i,setFilterByState:r}=e,{pageType:a,refTagPrefix:l,subPageType:n,pageConst:d}=(0,P.B)().context,g={type:a,subType:n,id:d};return(0,s.jsx)(s.Fragment,{children:!K()(i)&&(0,s.jsx)(ec,{"data-testid":"selected-filters",children:(0,s.jsx)(o.ChipList,{children:Object.keys(i).map(e=>{let a=((i[e]??{}).values??[]).filter(e=>!!e.id);return a.map((n,d)=>(0,s.jsx)(o.Chip,{"data-testid":`filter-chip-${e}`,label:n.text,filled:!1,onSelect:()=>{let s=a.filter(e=>e.id!==n.id),o={...i};o[e].values=s,r({...t,isFetching:!0,selectedFilters:o,shouldIssueQuery:!0}),W({context:g,isAddFilter:!1,refTagPrefix:l,filterIngress:"chip",filterKey:e,filterValue:n.id})},postIconProps:{name:"clear"}},`filter-chip-${e}-${d}`))})})})})};let ec=n.default.div.withConfig({componentId:"sc-612ec160-0"})(["align-items:center;display:flex;flex-direction:row;margin-bottom:",";width:100%;"],d.spacing.m);var em=i(70181),ef=i(42218),eI=i(56630),ep=i(45492),eT=i(4562),eh=i(50165),eR=i(26171),ey=i(7368);let e_=e=>{let{titleTypes:t,value:i,onSelect:r}=e,a=(0,l.Z)();return(0,s.jsxs)("div",{"data-testid":_.z7.FILTER_TITLE_TYPE,children:[(0,s.jsx)(ef.mt,{children:a.formatMessage(_.TY.titleListFilterTitleTypeLabel)}),(0,s.jsx)(ey.Z,{chips:t.map(e=>({id:e.filterId,label:(0,A.ip)(e.text,e.total)})),chipTestIdPrefix:"filter-titleType-chip",onSelect:r,values:i})]})};var eA=i(43407),eM=i(50795),ex=i(27494),eE=i(92015),eL=i(4251),eb=i(32838),ev=e=>{let{facetFields:t={},hiddenFilters:i,selectedFilters:r,setSelectedFilters:a,singleUserRatingsInfo:n,userWatchlistId:d,myRatingsFilterProps:g}=e,u=(0,l.Z)(),c=(0,U.nu)(),{pageType:m,refTagPrefix:f,subPageType:I,pageConst:p}=(0,P.B)().context,T={type:m,subType:I,id:p},h=i?.some(e=>e===_.UJ.listConstraint),R=i?.some(e=>e===_.UJ.myRatingConstraint),y=r[_.UJ.allGenreIds]?.values?.map(e=>e.id)??[],M=r[_.UJ.anyWatchProviderIds]?.values?.map(e=>e.id)??[],x=r[_.UJ.allKeywords]?.values?.map(e=>e.id)??[],E=r[_.UJ.anyTitleTypes]?.values?.map(e=>e.id)??[],L=(0,em.Z)(t.genres??[],_.Fp,y),b=(0,em.Z)(t.keywords??[],_.Fp,x),v=(0,em.Z)(t.watchOptions??[],_.Fp,M),S=(0,em.Z)(t.titleTypes??[],_.Fp,E);return(0,s.jsxs)(s.Fragment,{children:[L.visibleItems.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eI.m,{genres:L.visibleItems,value:y,onSelect:e=>{Q({filterKey:_.UJ.allGenreIds,isMultiValue:!0,personalized:!1,values:e,facetFields:t,selectedFilters:r,setSelectedFilters:a,facetFieldKey:"genres"});let{isAddFilter:i,valueAdded:s}=H(e,y);W({context:T,isAddFilter:i,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.allGenreIds,filterValue:s})}}),L.hasMoreItems&&(0,s.jsx)("span",{children:(0,s.jsx)(o.TextLink,{"data-testid":_.z7.FILTER_GENRE_SHOW_ALL,text:u.formatMessage(_.TY.titleListFilterPromptShowAllGenresButtonText),onClick:()=>{L.loadMoreItems(),(0,O.ar)(T,"see-more",N.qB.ACTION_ONLY,`${f}_filter_prmt_genres`)}})}),(0,s.jsx)(o.PageSectionDivider,{})]}),S.visibleItems.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_,{titleTypes:S.visibleItems,value:E,onSelect:e=>{Q({filterKey:_.UJ.anyTitleTypes,isMultiValue:!0,personalized:!1,values:e,facetFields:t,selectedFilters:r,setSelectedFilters:a,facetFieldKey:"titleTypes"});let{isAddFilter:i,valueAdded:s}=H(e,E);W({context:T,isAddFilter:i,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.anyTitleTypes,filterValue:s})}}),S.hasMoreItems&&(0,s.jsx)("span",{children:(0,s.jsx)(o.TextLink,{"data-testid":_.z7.FILTER_TITLE_TYPE_SHOW_ALL,text:u.formatMessage(_.TY.titleListFilterPromptShowAllGenresButtonText),onClick:()=>{S.loadMoreItems(),(0,O.ar)(T,"see-more",N.qB.ACTION_ONLY,`${f}_filter_prmt_titleTypes`)}})}),(0,s.jsx)(o.PageSectionDivider,{})]}),(0,s.jsx)(eR.ez,{initialStartYear:(0,A.Vu)(r[_.UJ.releaseDateRangeMin]?.values?.[0]?.id),initialEndYear:(0,A.Vu)(r[_.UJ.releaseDateRangeMax]?.values?.[0]?.id),onInputValueChange:(e,t)=>{let{minString:i,maxString:s}=(0,A.z_)(e,t),l=(0,eb.Lr)(i),n=(0,eb.Zn)(s),o={};l?(o[_.UJ.releaseDateRangeMin]={isMultiValue:!1,personalized:!1,values:[{id:l,text:u.formatMessage(_.TY.titleListFilterChipReleaseYearStartOnlyLabel,{startYear:l})}]},l!==r[_.UJ.releaseDateRangeMin]?.values?.[0]?.id&&W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.releaseDateRangeMin})):(l!==r[_.UJ.releaseDateRangeMin]?.values?.[0]?.id&&W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.releaseDateRangeMin}),delete r[_.UJ.releaseDateRangeMin]),n?(o[_.UJ.releaseDateRangeMax]={isMultiValue:!1,personalized:!1,values:[{id:n,text:u.formatMessage(_.TY.titleListFilterChipReleaseYearEndOnlyLabel,{endYear:n})}]},n!==r[_.UJ.releaseDateRangeMax]?.values?.[0]?.id&&W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.releaseDateRangeMax})):(n!==r[_.UJ.releaseDateRangeMax]?.values?.[0]?.id&&W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.releaseDateRangeMax}),delete r[_.UJ.releaseDateRangeMax]),a({...r,...o})}}),(0,s.jsx)(o.PageSectionDivider,{}),n&&n?.nickName&&(0,s.jsxs)("div",{"data-testid":k.i$.SINGLE_USER_RATING_FILTER,children:[(0,s.jsx)(ef.mt,{children:u.formatMessage(_.TY.titleListFilterSingleUserRatingsLabel,{nickName:n.nickName})}),(0,s.jsx)(eM.fl,{initialMinRating:(0,eL.mc)(r[_.UJ.singleUserRatingRangeMin]?.values?.[0]?.id),initialMaxRating:(0,eL.mc)(r[_.UJ.singleUserRatingRangeMax]?.values?.[0]?.id),onInputValueChange:(e,t)=>{let{minNumber:i,maxNumber:s}=(0,A.z_)(e,t),l=(0,A.xm)(e),o=(0,A.xm)(s),d={};i?(d[_.UJ.singleUserRatingRangeMin]={isMultiValue:!1,personalized:!1,values:[{id:String(i),text:u.formatMessage(_.TY.titleListFilterChipSingleUserRatingMinOnlyLabel,{minRating:l,nickName:n.nickName})}]},l!==r[_.UJ.singleUserRatingRangeMin]?.values?.[0]?.id&&W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.singleUserRatingRangeMin})):(l!==r[_.UJ.singleUserRatingRangeMin]?.values?.[0]?.id&&W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.singleUserRatingRangeMin}),delete r[_.UJ.singleUserRatingRangeMin]),s?(d[_.UJ.singleUserRatingRangeMax]={isMultiValue:!1,personalized:!1,values:[{id:String(s),text:u.formatMessage(_.TY.titleListFilterChipSingleUserRatingMaxOnlyLabel,{maxRating:o,nickName:n.nickName})}]},o!==r[_.UJ.singleUserRatingRangeMax]?.values?.[0]?.id&&W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.singleUserRatingRangeMax})):(o!==r[_.UJ.singleUserRatingRangeMax]?.values?.[0]?.id&&W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.singleUserRatingRangeMax}),delete r[_.UJ.singleUserRatingRangeMax]),a({...r,...d})},ratingType:"single-user"}),(0,s.jsx)(o.PageSectionDivider,{})]}),(0,s.jsxs)("div",{"data-testid":k.i$.USER_RATING_FILTER,children:[(0,s.jsx)(ef.mt,{children:u.formatMessage(_.TY.titleListFilterIMDbRatingsLabel)}),(0,s.jsx)(eM.fl,{initialMinRating:(0,eL.mc)(r[_.UJ.aggregateRatingRangeMin]?.values?.[0]?.id),initialMaxRating:(0,eL.mc)(r[_.UJ.aggregateRatingRangeMax]?.values?.[0]?.id),onInputValueChange:(e,t)=>{let{minNumber:i,maxNumber:s}=(0,A.z_)(e,t),l=(0,A.xm)(e),n=(0,A.xm)(s),o={};i?(o[_.UJ.aggregateRatingRangeMin]={isMultiValue:!1,personalized:!1,values:[{id:String(i),text:u.formatMessage(_.TY.titleListFilterChipUserRatingMinOnlyLabel,{minRating:l})}]},String(i)!==String(r[_.UJ.aggregateRatingRangeMin]?.values?.[0]?.id)&&W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.aggregateRatingRangeMin})):(String(i)!==String(r[_.UJ.aggregateRatingRangeMin]?.values?.[0]?.id)&&W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.aggregateRatingRangeMin}),delete r[_.UJ.aggregateRatingRangeMin]),s?(o[_.UJ.aggregateRatingRangeMax]={isMultiValue:!1,personalized:!1,values:[{id:String(s),text:u.formatMessage(_.TY.titleListFilterChipUserRatingMaxOnlyLabel,{maxRating:n})}]},String(s)!==String(r[_.UJ.aggregateRatingRangeMax]?.values?.[0]?.id)&&W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.aggregateRatingRangeMax})):(String(s)!==String(r[_.UJ.aggregateRatingRangeMax]?.values?.[0]?.id)&&W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.aggregateRatingRangeMax}),delete r[_.UJ.aggregateRatingRangeMax]),a({...r,...o})}}),(0,s.jsx)(eA.bX,{initialMinRatingCount:(0,eL.mc)(r[_.UJ.ratingsCountRangeMin]?.values?.[0]?.id),initialMaxRatingCount:(0,eL.mc)(r[_.UJ.ratingsCountRangeMax]?.values?.[0]?.id),onInputValueChange:(e,t)=>{let{minNumber:i,maxNumber:s}=(0,A.z_)(e,t),l={};i?(l[_.UJ.ratingsCountRangeMin]={isMultiValue:!1,personalized:!1,values:[{id:String(i),text:u.formatMessage(_.TY.titleListFilterChipUserRatingCountMinOnlyLabel,{minRatingCount:i})}]},String(i)!==String(r[_.UJ.ratingsCountRangeMin]?.values?.[0]?.id)&&W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.ratingsCountRangeMin})):(String(i)!==String(r[_.UJ.ratingsCountRangeMin]?.values?.[0]?.id)&&W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.ratingsCountRangeMin}),delete r[_.UJ.ratingsCountRangeMin]),s?(l[_.UJ.ratingsCountRangeMax]={isMultiValue:!1,personalized:!1,values:[{id:String(s),text:u.formatMessage(_.TY.titleListFilterChipUserRatingCountMaxOnlyLabel,{maxRatingCount:s})}]},String(s)!==String(r[_.UJ.ratingsCountRangeMax]?.values?.[0]?.id)&&W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.ratingsCountRangeMax})):(String(s)!==String(r[_.UJ.ratingsCountRangeMax]?.values?.[0]?.id)&&W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.ratingsCountRangeMax}),delete r[_.UJ.ratingsCountRangeMax]),a({...r,...l})}})]}),(0,s.jsx)(o.PageSectionDivider,{}),v.visibleItems.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eE.G,{value:M,onSelect:e=>{let i=e?.map(e=>e.providerId);Q({filterKey:_.UJ.anyWatchProviderIds,isMultiValue:!0,personalized:!0,values:i,facetFields:t,selectedFilters:r,setSelectedFilters:a,facetFieldKey:"watchOptions"});let{isAddFilter:s,valueAdded:l}=H(i,M);W({context:T,isAddFilter:s,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.anyWatchProviderIds,filterValue:l})},watchOptions:v.visibleItems}),v.hasMoreItems&&(0,s.jsx)("span",{children:(0,s.jsx)(o.TextLink,{"data-testid":_.z7.FILTER_WHERE_TO_WATCH_SHOW_ALL,text:u.formatMessage(_.TY.titleListFilterPromptShowAllWatchOptionsButtonText),onClick:()=>{v.loadMoreItems(),(0,O.ar)(T,"see-more",N.qB.ACTION_ONLY,`${f}_filter_prmt_watchOptions`)}})}),(0,s.jsx)(o.PageSectionDivider,{})]}),(0,s.jsx)(ep.b,{value:(0,A.o1)(r[_.UJ.inTheatersConstraint]?.values?.[0]?.id),options:(0,A.$G)(c,u),onChange:e=>{let t;e===V.sg.None?(t={...r},delete t[_.UJ.inTheatersConstraint],W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.inTheatersConstraint}),a(t)):(t=(0,A.MK)(u,e),W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.inTheatersConstraint,filterValue:e}),a({...r,...t}))}}),(0,s.jsx)(o.PageSectionDivider,{}),c&&!(h&&R)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(ef.mt,{children:u.formatMessage(_.TY.titleListFilterYouAndThisListLabel)}),d&&!h&&(0,s.jsx)(ex.e,{value:(0,A.k7)(r[_.UJ.listConstraint]?.values?.[0]?.id),onChange:e=>{let t;e===V.VU.None?(t={...r},delete t[_.UJ.listConstraint],W({context:T,isAddFilter:!1,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.listConstraint}),a(t)):(t=(0,A.hA)(u,e),W({context:T,isAddFilter:!0,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.listConstraint,filterValue:e}),a({...r,...t}))}}),!R&&(0,s.jsx)(eh.L,{value:(0,A.N5)(r[_.UJ.myRatingConstraint]?.values?.[0]?.id),onChange:e=>{g&&(g.setMyRatingsFilterValue(e),W({context:T,isAddFilter:e!==V.EW.None,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.myRatingConstraint,filterValue:e}))}})]}),(0,s.jsx)(o.PageSectionDivider,{})]}),b.visibleItems.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eT.b,{keywords:b.visibleItems,value:x,onSelect:e=>{Q({filterKey:_.UJ.allKeywords,isMultiValue:!0,personalized:!1,values:e,facetFields:t,selectedFilters:r,setSelectedFilters:a,facetFieldKey:"keywords"});let{isAddFilter:i,valueAdded:s}=H(e,x);W({context:T,isAddFilter:i,refTagPrefix:f,filterIngress:"prmt",filterKey:_.UJ.allKeywords,filterValue:s})}}),b.hasMoreItems&&(0,s.jsx)("span",{children:(0,s.jsx)(o.TextLink,{"data-testid":_.z7.FILTER_KEYWORDS_SHOW_ALL,text:u.formatMessage(_.TY.titleListFilterPromptShowAllKeywordsButtonText),onClick:()=>{b.loadMoreItems(),(0,O.ar)(T,"see-more",N.qB.ACTION_ONLY,`${f}_filter_prmt_keywords`)}})})]})]})},eS=i(90955),eC=e=>{let t,i,{customViewProps:n,filterByProps:d,listItems:I,listType:p,pageQueryVariables:T,paginatedQueryInfo:h,setListItems:y,sortByProps:L,totalItems:k,isListOwner:Y,isPrivateList:G,emptyText:B,filteredEmptyText:K}=e,z=(0,l.Z)(),Z=(0,U.nu)(),Q=(0,r.useRouter)(),W=(0,P.B)().context,{pageConst:H,subPageType:X,pageType:ee,refTagPrefix:et}=W,es={type:ee,subType:X,id:H},er=p===D.lZ.Images,ea=p===D.lZ.People,en=p===D.lZ.Titles,eo=!n?.listItemType&&(ea||en),{viewType:ec,setViewType:em}=(0,F.UC)({forceFeature:!0,initialValue:n?.initialView??M.c.DETAILED,listType:p}),ef=(0,eS.Zf)(p,ec),eI=h?.pageInfo,[ep,eT]=(0,a.useState)(eI?.hasNextPage??!1),[eh,eR]=(0,a.useState)(d?.searchText||""),[ey,e_]=(0,a.useState)({}),eA=en?(0,x.Dh)(I):[],eM=X===S.SubPageType.RATINGS&&!Y,ex=(0,U.mg)(eA,!en,eM?H:void 0);(0,a.useEffect)(()=>{if(!ex?.data)return;let e={...ey};ex?.data?.titles.forEach(t=>{t?.id&&(e[t?.id]=t)}),y((0,eS.qA)(I,e,eM)),e_(e)},[ex?.data]);let eE=L?.sortOptions?.find(e=>e.value===L?.initialSelectionValue)?.queryVariables||{},[eL,eb]=(0,a.useState)({selectedSortOption:L?.sortOptions.find(e=>e.value===L.initialSelectionValue),isFetching:!1}),eC=(0,eS.Dm)(L?.sortOptions??[],G),[eV,ew]=(0,a.useState)({after:h?.pageInfo?.endCursor,...eE,...T||{}}),[ej,e$]=(0,a.useState)({error:void 0,isFetching:!1,lastUpdatedFilterKey:"",retryQuery:void 0,selectedFilters:d?.selectedFilters??{},searchText:"",shouldIssueQuery:!1});switch(d?.promptType){case q.Nr.Lists:t=ed;break;case q.Nr.Title:t=ev;break;case q.Nr.Exports:t=ei}let eJ=ej?.selectedFilters??{},eq=X===S.SubPageType.EXPORTS||!!eL?.selectedSortOption?.queryContext?.personalized||!!(Object.values(eJ).some(e=>e.personalized)||Y),ek={serverSideCacheable:!eq,personalized:eq},eY=(0,eS.Ff)(d?.promptType,ej?.selectedFilters,d?.inTheatersLocation,d?.userWatchlistId,d?.singleUserRatingsInfo?.userId,d?.includeAdultTitles,ej?.searchText),eG=()=>e$({...ej,shouldIssueQuery:!0}),[{data:eB,error:eK}]=(0,U.E8)({query:d?.query??q.eN,context:ek,variables:{...eV,...eY,after:void 0},pause:!ej.shouldIssueQuery});(0,a.useEffect)(()=>{if(eB&&d&&d?.itemsTransform){let{items:e,pageInfo:t,totalItems:i=0}=d.itemsTransform(eB),s=en?(0,eS.qA)(e,ey,eM):e;ew({...eV,after:t?.endCursor}),y(s),eT(t.hasNextPage),e$({...ej,error:void 0,isFetching:!1,lastUpdatedFilterKey:"",retryQuery:void 0,shouldIssueQuery:!1}),eZ(i),(0,eS.lW)({facetFields:d?.facetFields,inTheatersLocation:d.inTheatersLocation,isLoggedIn:Z,promptType:d.promptType,router:Q,selectedFilters:eJ,singleUserRatingUserId:d.singleUserRatingsInfo?.userId,userWatchlistId:d.userWatchlistId,searchText:ej.searchText})}else eK&&e$({...ej,error:eK,isFetching:!1,retryQuery:eG,shouldIssueQuery:!1})},[eB,eK]),(0,a.useEffect)(()=>{if(en&&d?.myRatingsFilterProps?.myRatingsFilterValue!==void 0){let e={...ej?.selectedFilters},t=d.myRatingsFilterProps.myRatingsFilterValue;t===V.EW.None&&e[_.UJ.myRatingConstraint]?(delete e[_.UJ.myRatingConstraint],e$({...ej,isFetching:!0,selectedFilters:e,shouldIssueQuery:!0})):t!==V.EW.None&&(e={...e,...(0,A.Dv)(z,t)},e$({...ej,isFetching:!0,selectedFilters:e,shouldIssueQuery:!0}))}},[d?.myRatingsFilterProps?.myRatingsFilterValue]);let[ez,eZ]=(0,a.useState)(k),eQ=!eL?.isFetching&&!eL?.error&&!ej?.isFetching&&!ej?.error,eW=!n?.listItemType&&!er;n?.listItemType&&n?.listItemType===q.EA.UserListListItem&&(i=c.Z);let eH=e=>{e$({...ej,searchText:e,isFetching:!0,retryQuery:eG,shouldIssueQuery:!0})},eX=eQ&&0===k,e0=eQ&&k>0&&!I.length,e1=(0,$.hg)({weblabID:j.lh.IMDB_NEXT_LIST_SEARCH_956966,treatments:{T1:!0}}),e2=z.formatMessage({id:"list_page_empty_text",defaultMessage:"This list is empty."});return eX?(0,s.jsx)(o.PageSection,{sidePadding:"pageMargin",className:q.kA.MC_PARENT,children:(0,s.jsx)(eO,{children:B||e2})}):(0,s.jsxs)(o.PageSection,{sidePadding:"pageMargin",className:q.kA.MC_PARENT,children:[(0,s.jsxs)(eD,{children:[(0,s.jsx)(eg.Z,{listType:p,totalItems:ez}),(0,s.jsxs)(eP,{className:d?"has-filtering":"",children:[d&&!ea&&(0,s.jsx)(el,{children:(0,s.jsx)(t,{facetFields:d?.facetFields,hiddenFilters:d?.hiddenFilters,isListOwner:d?.isListOwner,selectedFilters:eJ,setSelectedFilters:e=>{e$({...ej,isFetching:!0,selectedFilters:e,shouldIssueQuery:!0})},singleUserRatingsInfo:d?.singleUserRatingsInfo,userWatchlistId:d?.userWatchlistId,myRatingsFilterProps:d?.myRatingsFilterProps})}),L&&(0,s.jsx)(v.h,{...L,additionalQueryVariables:{...eV,...eY,after:void 0},directionToggleProps:{onDirectionChange:(e,t)=>{(0,w.WN)(Q,L?.queryParamMap[t?.value],e)},sortByVariableName:L?.directionToggleProps?.sortByVariableName??"by",sortOrderVariableName:L?.directionToggleProps?.sortOrderVariableName??"order"},queryContext:ek,onDataReceived:(e,t)=>{let{items:i,pageInfo:s}=L?.itemsTransform(e?.data)??{},r=en?(0,eS.qA)(i,ey,eM):i;ew({...eV,sort:t.queryVariables?.sort,after:s.endCursor}),eb({selectedSortOption:t,isFetching:!1}),y(r),eT(s.hasNextPage),(0,w.WN)(Q,L?.queryParamMap[t?.value],t.queryVariables?.sort?.order??t.queryVariables?.sort?.sortOrder)},onError:(e,t)=>{eb({error:e,isFetching:!1,retryQuery:t})},onFetchingStatusChange:(e,t)=>eb({selectedSortOption:t,error:void 0,isFetching:e,retryQuery:void 0}),sortOptions:eC})]}),eW&&(0,s.jsx)(eU,{"data-testid":q.z7.MC_VIEW_OPTIONS,children:(0,s.jsx)(u.ZP,{hiddenViews:n?.hiddenViews,setSelectedView:em,selectedView:ec})})]}),(0,s.jsx)(eu,{filterByState:ej,selectedFilters:eJ,setFilterByState:e$}),er&&eQ&&(0,s.jsx)(E._,{endCursor:h?.pageInfo?.endCursor,items:I,pagination:h?{query:h.query,queryContext:ek,queryVariables:{first:h.pageSize,lsConst:H},transform:e=>{let t=(0,J.z)(e?.list,W);return eT(e.list?.imageItems?.pageInfo?.hasNextPage??!1),{endCursor:e.list?.imageItems?.pageInfo.endCursor,items:t,total:e.list?.items?.total}},pathToPageInfo:"list.imageItems.pageInfo",intersectionOptions:{rootMargin:ef}}:void 0,total:ez}),eo&&e1&&(0,s.jsx)(R,{"data-testid":q.z7.MC_SEARCH,value:eh,onChange:e=>{eR(e.target.value||"")},onDebouncedChange:e=>{eH(e.target.value||"")},onClear:()=>{eR(""),eH("")},showError:I?.length===0&&eh?.length>0}),eQ&&!e0&&eW&&(0,s.jsxs)("div",{"data-testid":q.z7.MC_LIST_CONTENT,children:[ec===M.c.DETAILED&&(0,s.jsx)(m.Z,{items:I,listType:p,batchRenderingProps:{renderingType:"intersection",rootMargin:ef},showItemNumbersInConstText:!0}),ec===M.c.GRID&&(0,s.jsx)(f.Z,{items:I,listType:p,batchRenderingProps:{renderingType:"intersection",rootMargin:ef},showItemNumbersInConstText:!0}),ec===M.c.COMPACT&&eo&&(0,s.jsx)(g.Z,{items:I,listType:p,batchRenderingProps:{renderingType:"intersection",rootMargin:ef},showItemNumbersInConstText:!0})]}),eQ&&!e0&&!eW&&!er&&(0,s.jsx)("div",{"data-testid":q.z7.MC_LIST_CONTENT,children:(0,s.jsx)(eN,{dividers:"between",children:I.map((e,t)=>(0,s.jsx)(i,{index:t,...e},`custom-list-item-${t}`))})}),e0&&(0,s.jsx)(eO,{children:K}),eL?.error&&!eL?.isFetching||ej?.error&&!ej?.isFetching&&(0,s.jsx)(C.ZP,{canRetry:!0,error:eL?.error??ej?.error,name:"ListPageMainColumn",onClickRetry:()=>{eL?.error&&eL?.retryQuery?.(),ej?.error&&ej?.retryQuery?.()}}),(eL?.isFetching||ej?.isFetching)&&(0,s.jsx)(eF,{"data-testid":q.z7.MC_REFINER_CHANGE_LOADER,children:(0,s.jsx)(o.Loader,{})}),h&&!er&&ep&&eQ&&(0,s.jsx)(b.Yv,{queryOptions:{query:h.query,variables:{...eV,...eY,first:h?.pageSize},context:ek},onDataReceived:e=>{let{pageInfo:t,items:i}=h?.itemsTransform(e,I)??{};ew({...eV,after:t?.endCursor}),y(i),eT(t.hasNextPage)},onError:(e,t)=>{(0,O.ar)(es,N.QJ.PAGINATION_ERROR,N.qB.ACTION_ONLY,`${et}_ip_err`),t&&(0,O.ar)(es,N.QJ.PAGINATION_ERROR_AND_DATA,N.qB.ACTION_ONLY,`${et}_ip_err_and_data`)},onFetch:()=>{(0,O.ar)(es,N.QJ.PAGINATION_NEXT,N.qB.ACTION_ONLY,`${et}_ip_fetch`)},intersectionOptions:{rootMargin:ef}})]})};let eD=n.default.div.withConfig({componentId:"sc-f975e39c-0"})(["align-items:center;display:flex;flex-flow:row wrap;margin-bottom:",";width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],d.spacing.m),eP=n.default.div.withConfig({componentId:"sc-f975e39c-1"})(["align-items:center;display:flex;order:3;.","{min-width:1rem;}","{justify-content:space-between;width:100%;}&.has-filtering{","{.","{display:none;}}}"],L.Wp,d.mediaQueries.breakpoints.below.l,d.mediaQueries.breakpoints.below.m,L.Wp),eU=n.default.div.withConfig({componentId:"sc-f975e39c-2"})(["order:5;width:fit-content;","{order:2;}"],d.mediaQueries.breakpoints.below.l),eF=n.default.div.withConfig({componentId:"sc-f975e39c-3"})(["align-items:center;display:flex;height:20rem;justify-content:center;"]),eO=n.default.div.withConfig({componentId:"sc-f975e39c-4"})(["margin-top:",";"],d.spacing.m),eN=(0,n.default)(o.MetaDataList).withConfig({componentId:"sc-f975e39c-5"})(["margin-bottom:",";","{",";border:1px solid ",";padding:",";}","{border-bottom:1px solid ",";border-top:1px solid ",";}"],d.spacing.s,d.mediaQueries.breakpoints.above.s,(0,d.setPropertyToShapeVar)("border-radius","ipt-cornerRadius"),(0,d.getColorVar)("ipt-base-border-color"),d.spacing.s,d.mediaQueries.breakpoints.below.m,(0,d.getColorVar)("ipt-base-border-color"),(0,d.getColorVar)("ipt-base-border-color"))},97897:function(e,t,i){var s=i(52322);i(2784);var r=i(79855),a=i(19596),l=i(97388),n=i(16929);t.Z=e=>{let{listType:t,totalItems:i}=e,a=(0,r.Z)();return(0,s.jsx)(o,{"data-testid":n.z7.MC_TOTAL_ITEMS,children:(0,l.sU)(t,i,a)})};let o=a.default.div.withConfig({componentId:"sc-d20d6200-0"})(["align-self:center;margin-right:auto;order:1;width:fit-content;"])},5495:function(e,t,i){i.d(t,{NJ:function(){return n},Tv:function(){return l},Vs:function(){return a},_Z:function(){return d},l5:function(){return o},lC:function(){return u},m7:function(){return g}});var s=i(24667),r=i(93724);let a="ls";(0,s.vU)({created:{id:"userList_main_created",defaultMessage:"created"},images:{id:"common_images",defaultMessage:"Images"},lastUpdated:{id:"userList_main_last_updated",defaultMessage:"last updated"},names:{id:"common_names",defaultMessage:"Names"},sortBy:{id:"common_sort_by",defaultMessage:"Sort by"},sortCreated:{id:"userList_main_sort_created",defaultMessage:"Created date"},sortListOrder:{id:"userList_main_sort_list_order",defaultMessage:"List order"},sortModified:{id:"userList_main_sort_modified",defaultMessage:"Modified date"},sortPopularity:{id:"userList_main_sort_popularity",defaultMessage:"Popularity"},titles:{id:"common_titles",defaultMessage:"Titles"},videos:{id:"common_videos",defaultMessage:"Videos"}});let l={LIST_ORDER:"LIST_ORDER",ALPHABETICAL:"NAME",POPULARITY:"POPULARITY",DATE_ADDED:"DATE_ADDED"},n={LIST_ORDER:{id:"common_sort_by_list_order",defaultMessage:"List order"},ALPHABETICAL:{id:"common_sort_by_alphabetical",defaultMessage:"Alphabetical"},POPULARITY:{id:"common_sort_by_starmeter",defaultMessage:"STARmeter"},DATE_ADDED:{id:"common_sort_by_date_added",defaultMessage:"Date added"}},o={[l.LIST_ORDER]:r.kq.LIST_ORDER,[l.ALPHABETICAL]:r.kq.ALPHABETICAL,[l.POPULARITY]:r.kq.POPULARITY,[l.DATE_ADDED]:r.kq.DATE_ADDED},d={LIST_ORDER:"LIST_ORDER",DATE_ADDED:"CREATED_DATE"},g={LIST_ORDER:{id:"common_sort_by_list_order",defaultMessage:"List order"},DATE_ADDED:{id:"common_sort_by_date_added",defaultMessage:"Date added"}},u={[d.LIST_ORDER]:r.kq.LIST_ORDER,[d.DATE_ADDED]:r.kq.DATE_ADDED}},42779:function(e,t,i){i.d(t,{N1:function(){return u},QF:function(){return c},dm:function(){return m},xr:function(){return f}});var s=i(30382),r=i.n(s),a=i(74613),l=i(8768),n=i(19369),o=i(36565),d=i(54786),g=i(9533);r()`
    query ListMainListMetadata($lsConst: ID!) {
        list(id: $lsConst) {
            author {
                userId
            }
            listClass {
                id
            }
            listType {
                id
            }
            ...ListMainInteractions
            items(first: 0) {
                total
            }
        }
    }
    ${g.B}
`;let u=r()`
    query TitleListMainPage(
        $first: Int!
        $lsConst: ID!
        $after: String
        $filter: AdvancedTitleSearchConstraints
        $sort: TitleListSearchSort
    ) {
        list(id: $lsConst) {
            ...UserListListItemMetadata
            titleListItemSearch(
                first: $first
                after: $after
                filter: $filter
                sort: $sort
            ) {
                total
                pageInfo {
                    hasNextPage
                    hasPreviousPage
                    endCursor
                }
                edges {
                    node {
                        ...ListSearchItemMetadata
                    }
                    listItem: title {
                        ...TitleListItemMetadata
                        ...TitleTotalEpisodes
                        ...TitleTopCastAndCrew
                        ...TitleListItemMetascore
                    }
                }
            }
        }
    }
    ${n.EC}
    ${o.Zz}
    ${o.f1}
    ${o.Dl}
    ${o._A}
    ${n.O4}
`;r()`
    query TitleListMainPageFacetFieldsAndTotal($lsConst: ID!) {
        list(id: $lsConst) {
            titleListItemSearch(first: 0) {
                ...TitleListFacetFields
                total
            }
        }
    }
    ${o.qp}
`;let c=r()`
    query NameListMainPage(
        $first: Int!
        $lsConst: ID!
        $originalTitleText: Boolean
        $refTagQueryParam: String
        $after: String
        $sort: NameListSearchSort
        $filter: AdvancedNameSearchConstraints
    ) {
        list(id: $lsConst) {
            ...UserListListItemMetadata
            nameListItemSearch(
                first: $first
                after: $after
                sort: $sort
                filter: $filter
            ) {
                total
                pageInfo {
                    hasNextPage
                    hasPreviousPage
                    endCursor
                }
                edges {
                    node {
                        ...ListSearchItemMetadata
                    }
                    listItem: name {
                        ...NameListItemMetadata
                    }
                }
            }
        }
    }
    ${n.EC}
    ${l.E}
    ${n.O4}
`,m=r()`
    query ImageListMainPage($first: Int!, $lsConst: ID!, $after: ID) {
        list(id: $lsConst) {
            ...UserListListItemMetadata
            imageItems: items(first: $first, after: $after) {
                total
                pageInfo {
                    hasNextPage
                    hasPreviousPage
                    endCursor
                }
                edges {
                    node {
                        ...ViewListItemMetadata
                        listItem {
                            ...ImageListItemMetadata
                        }
                    }
                }
            }
        }
    }
    ${n.nq}
    ${a.w}
    ${n.O4}
`,f=r()`
    query VideoListMainPage(
        $first: Int!
        $lsConst: ID!
        $after: ID
        $sort: ListItemSort = { by: LIST_ORDER, order: ASC }
    ) {
        list(id: $lsConst) {
            ...UserListListItemMetadata
            videoItems: items(first: $first, after: $after, sort: $sort) {
                total
                pageInfo {
                    hasNextPage
                    hasPreviousPage
                    endCursor
                }
                edges {
                    node {
                        ...ViewListItemMetadata
                        listItem {
                            ...VideoListItemMetadata
                        }
                    }
                }
            }
        }
    }
    ${n.nq}
    ${d.X}
    ${n.O4}
`},76065:function(e,t,i){i.d(t,{k:function(){return a},z:function(){return l}});var s=i(60326),r=i(78935);let a=(e,t,i)=>{let{authorMetadata:s,createdDate:a,description:n,lastModifiedDate:o,listType:d,name:g,total:u}=(0,r.yr)(e);return{authorMetadata:s,createdDate:a,description:n,lastModifiedDate:o,listType:d,name:g,items:l(e.list,i),total:u}},l=(e,t)=>{let i=e?.imageItems?.edges,r=[];return i?.forEach(e=>{let i=s.Q(e.node,t);r.push(i)}),r}},59176:function(e,t,i){i.d(t,{A0:function(){return d},Xb:function(){return o},v9:function(){return n}});var s=i(75681),r=i(13433),a=i(5495),l=i(78935);let n=(e,t)=>{let{authorMetadata:i,createdDate:s,description:r,lastModifiedDate:a,listType:n,name:d,total:g}=(0,l.yr)(e);return{authorMetadata:i,createdDate:s,description:r,items:o(e.list),lastModifiedDate:a,listType:n,name:d,total:g}},o=e=>{let t=e?.nameListItemSearch?.edges,i=[];return t?.forEach(e=>{let t=s.Hv({...e.node,listItem:e.listItem});i.push(t)}),i},d=(e,t,i)=>[{queryVariables:{first:t,sort:{by:a.Tv.LIST_ORDER,order:r.ik.Asc}},text:e.formatMessage(a.NJ.LIST_ORDER),value:a.Tv.LIST_ORDER},{queryVariables:{first:t,sort:{by:a.Tv.POPULARITY,order:r.ik.Asc}},text:e.formatMessage(a.NJ.POPULARITY),value:a.Tv.POPULARITY},{queryVariables:{first:t,sort:{by:a.Tv.ALPHABETICAL,order:r.ik.Asc}},text:e.formatMessage(a.NJ.ALPHABETICAL),value:a.Tv.ALPHABETICAL},{queryVariables:{first:t,sort:{by:a.Tv.DATE_ADDED,order:r.ik.Asc}},text:e.formatMessage(a.NJ.DATE_ADDED),value:a.Tv.DATE_ADDED}].map(e=>e.value!==i?.by?e:{...e,queryVariables:{...e.queryVariables,sort:{...e?.queryVariables?.sort,order:i.order}}})},78935:function(e,t,i){i.d(t,{CX:function(){return c},I:function(){return m},yr:function(){return u}});var s=i(68760),r=i(62410),a=i(13433),l=i(5495),n=i(42779),o=i(59176),d=i(31182),g=i(93869);let u=e=>{let t=e.list?.name?.originalText??"",i=e?.list?.author?.nickName??e?.list?.author?.userId??"",s=e.list?.items?.total??0,r=e.list?.listType?.id;return{authorMetadata:{authorName:i,authorId:e.list?.author?.userId||""},createdDate:e.list?.createdDate,name:t,description:{markdown:e.list?.description?.originalText?.markdown??"",plaidHtml:e.list?.description?.originalText?.plaidHtml??"",plainText:e.list?.description?.originalText?.plainText??""},lastModifiedDate:e.list?.lastModifiedDate,listType:r,total:s}},c=(e,t,i,s,r,o)=>{let d,g;let u={first:s,lsConst:t};switch(e){case a.lZ.Titles:d=n.N1,g={...u,filter:o,sort:r};break;case a.lZ.People:d=n.QF,g={...u,refTagQueryParam:l.Vs,originalTitleText:i,filter:o,sort:r};break;case a.lZ.Images:d=n.dm,g=u;break;case a.lZ.Videos:d=n.xr,g={...u,sort:r}}return{pageQuery:d,pageQueryVariables:g}},m=(e,t,i,u,c,m)=>{switch(e){case a.lZ.Titles:return{query:n.N1,queryParamMap:s.G6,initialSelectionValue:m?.by??s.y1.LIST_ORDER,itemsTransform:e=>{let t=(0,d.t)(e?.list);return{pageInfo:e?.list?.titleListItemSearch?.pageInfo??{hasNextPage:!1,hasPreviousPage:!1,endCursor:""},items:t,totalItems:e?.list?.titleListItemSearch?.total}},sortOptions:(0,r.v)(t,c,u,m)};case a.lZ.People:return{query:n.QF,queryParamMap:l.l5,initialSelectionValue:m?.by??l.Tv.LIST_ORDER,itemsTransform:e=>{let t=(0,o.Xb)(e?.list);return{pageInfo:e?.list?.nameListItemSearch?.pageInfo??{hasNextPage:!1,hasPreviousPage:!1,endCursor:""},items:t,totalItems:e?.list?.nameListItemSearch?.total}},sortOptions:(0,o.A0)(t,c,m)};case a.lZ.Videos:return{query:n.xr,queryParamMap:l.lC,initialSelectionValue:m?.by??l._Z.LIST_ORDER,itemsTransform:e=>{let s=(0,g.UV)(e?.list,i,t);return{pageInfo:e?.list?.videoItems?.pageInfo??{hasNextPage:!1,hasPreviousPage:!1,endCursor:""},items:s,totalItems:e?.list?.videoItems?.total}},sortOptions:(0,g.uI)(t,c,m)};default:return}}},31182:function(e,t,i){i.d(t,{T:function(){return a},t:function(){return l}});var s=i(79722),r=i(78935);let a=(e,t)=>{let{authorMetadata:i,createdDate:s,description:a,lastModifiedDate:n,listType:o,name:d}=(0,r.yr)(e);return{authorMetadata:i,createdDate:s,description:a,items:l(e.list),lastModifiedDate:n,listType:o,name:d,total:e?.list?.titleListItemSearch?.total??0}},l=e=>{let t=e?.titleListItemSearch?.edges,i=[];return t?.forEach(e=>{let t=s.GI({...e.node,listItem:e.listItem});i.push(t)}),i}},93869:function(e,t,i){i.d(t,{E:function(){return n},UV:function(){return o},uI:function(){return d}}),i(45455);var s=i(43098),r=i(13433),a=i(5495),l=i(78935);let n=(e,t,i)=>{let{authorMetadata:s,createdDate:r,description:a,lastModifiedDate:n,listType:d,name:g,total:u}=(0,l.yr)(e);return{authorMetadata:s,createdDate:r,description:a,items:o(e.list,i,t),lastModifiedDate:n,listType:d,name:g,total:u}},o=(e,t,i)=>{let r=e?.videoItems?.edges,a=[];return e&&r&&r?.forEach(e=>{if(!e.node||!e.node.listItem)return;let r=s.Rz(e.node,t,i);a.push(r)}),a},d=(e,t,i)=>[{queryVariables:{first:t,sort:{by:a._Z.LIST_ORDER,order:r.ik.Asc}},text:e.formatMessage(a.m7.LIST_ORDER),value:a._Z.LIST_ORDER},{queryVariables:{first:t,sort:{by:a._Z.DATE_ADDED,order:r.ik.Asc}},text:e.formatMessage(a.m7.DATE_ADDED),value:a._Z.DATE_ADDED}].map(e=>e.value!==i?.by?e:{...e,queryVariables:{...e.queryVariables,sort:{...e?.queryVariables?.sort,order:i.order}}})},9533:function(e,t,i){i.d(t,{B:function(){return a}});var s=i(30382),r=i.n(s);let a=r()`
    fragment ListMainInteractions on List {
        allTimeInteractions: listInteractionCounts(timeRanges: [ALL_TIME]) {
            views
        }
        weekInteractions: listInteractionCounts(timeRanges: [ONE_WEEK]) {
            views
        }
    }
`},42728:function(e,t,i){i.d(t,{p:function(){return d}});var s=i(2784),r=i(65980),a=i(91609),l=i(65123),n=i(60220);let o={fetching:!0,stale:!1},d=e=>{let{queryOptions:t,ref:i,pause:d,options:g,onIntersection:u}=e,c=(0,l.OV)(),m=!g?.disableAds&&c,[f,I]=(0,s.useState)(!1),[p,T]=(0,s.useState)(!1),h=(0,r.Jf)(i,!g?.continueObserving&&p,I);(0,a.S)(i,h,{...g?.intersectionOptions}),(0,s.useEffect)(()=>{f&&u?.()},[f]);let R=!g?.disableIntersection&&!f,[y,_]=(0,n.E)({...t,pause:m||R||d||!1});return((0,s.useEffect)(()=>{y?.data&&T(!0)},[y?.data]),y.data||y.error)?[y,_]:[o,_]}}}]);